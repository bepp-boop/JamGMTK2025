[gd_scene load_steps=16 format=4 uid="uid://6ripwwkf86uc"]

[ext_resource type="Script" uid="uid://diytbnkw6cofw" path="res://3Minigames/FingerPuzzle/finger.gd" id="1_fff2g"]
[ext_resource type="Texture2D" uid="uid://c2q6mlrwu0s06" path="res://4Sprites/Minigame/fingersheet.png" id="2_h3unf"]
[ext_resource type="Script" uid="uid://wrunkirm33ub" path="res://3Minigames/FingerPuzzle/button.gd" id="3_f3rd8"]
[ext_resource type="Script" uid="uid://bkejrkgwv5ipw" path="res://3Minigames/FingerPuzzle/fall_rock.gd" id="4_xahk0"]
[ext_resource type="PackedScene" uid="uid://da1hlpltdsxec" path="res://1Scripts/give_item.tscn" id="5_h3unf"]

[sub_resource type="AtlasTexture" id="AtlasTexture_xa385"]
atlas = ExtResource("2_h3unf")
region = Rect2(0, 2168.62, 2160, 531.376)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hf0k7"]
size = Vector2(2248.17, 360)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ivqg"]
size = Vector2(490, 405)

[sub_resource type="AtlasTexture" id="AtlasTexture_j1bdh"]
atlas = ExtResource("2_h3unf")
region = Rect2(1624.93, 1635.92, 535.073, 531.473)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_orggo"]
size = Vector2(145, 215)

[sub_resource type="AtlasTexture" id="AtlasTexture_pxtxw"]
atlas = ExtResource("2_h3unf")
region = Rect2(0, 0, 535.071, 498.971)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_xy6db"]
texture = ExtResource("2_h3unf")
texture_region_size = Vector2i(540, 540)
2:0/0 = 0
3:0/0 = 0

[sub_resource type="TileSet" id="TileSet_xa385"]
tile_size = Vector2i(270, 270)
sources/0 = SubResource("TileSetAtlasSource_xy6db")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_hf0k7"]
texture = ExtResource("2_h3unf")
texture_region_size = Vector2i(270, 270)
0:2/size_in_atlas = Vector2i(4, 4)
0:2/0 = 0
4:2/size_in_atlas = Vector2i(4, 4)
4:2/0 = 0
4:0/size_in_atlas = Vector2i(2, 2)
4:0/0 = 0
6:0/size_in_atlas = Vector2i(2, 2)
6:0/0 = 0

[sub_resource type="TileSet" id="TileSet_7ivqg"]
tile_size = Vector2i(270, 270)
sources/0 = SubResource("TileSetAtlasSource_hf0k7")

[node name="PressedButton" type="Node2D"]

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
z_index = 4
position = Vector2(201, 304)
scale = Vector2(0.2, 0.2)
script = ExtResource("1_fff2g")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
position = Vector2(-2102.5, -5)
scale = Vector2(1.499, 1)
texture = SubResource("AtlasTexture_xa385")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(-2145, 0)
scale = Vector2(1.499, 1)
shape = SubResource("RectangleShape2D_hf0k7")

[node name="Button" type="Area2D" parent="."]
z_index = 3
position = Vector2(1098, 287)
scale = Vector2(0.2, 0.2)
script = ExtResource("3_f3rd8")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Button"]
position = Vector2(0, 37.5)
shape = SubResource("RectangleShape2D_7ivqg")

[node name="Sprite2D" type="Sprite2D" parent="Button"]
texture = SubResource("AtlasTexture_j1bdh")

[node name="Rocks" type="Node" parent="."]

[node name="FallRock" type="Area2D" parent="Rocks"]
z_index = 3
position = Vector2(338, 23)
scale = Vector2(0.2, 0.2)
script = ExtResource("4_xahk0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rocks/FallRock"]
position = Vector2(-47.5, -7.5)
shape = SubResource("RectangleShape2D_orggo")

[node name="RayCast2D" type="RayCast2D" parent="Rocks/FallRock"]
position = Vector2(-59.9999, 55)
target_position = Vector2(61.0001, 1900)

[node name="Sprite2D" type="Sprite2D" parent="Rocks/FallRock"]
texture = SubResource("AtlasTexture_pxtxw")

[node name="FallRock2" type="Area2D" parent="Rocks"]
z_index = 3
position = Vector2(561, 27)
scale = Vector2(0.2, 0.2)
script = ExtResource("4_xahk0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rocks/FallRock2"]
position = Vector2(-47.5, -7.5)
shape = SubResource("RectangleShape2D_orggo")

[node name="RayCast2D" type="RayCast2D" parent="Rocks/FallRock2"]
position = Vector2(-59.9999, 55)
target_position = Vector2(61.0001, 1900)

[node name="Sprite2D" type="Sprite2D" parent="Rocks/FallRock2"]
texture = SubResource("AtlasTexture_pxtxw")

[node name="FallRock3" type="Area2D" parent="Rocks"]
z_index = 3
position = Vector2(871, 23)
scale = Vector2(0.2, 0.2)
script = ExtResource("4_xahk0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rocks/FallRock3"]
position = Vector2(-47.5, -7.5)
shape = SubResource("RectangleShape2D_orggo")

[node name="RayCast2D" type="RayCast2D" parent="Rocks/FallRock3"]
position = Vector2(-59.9999, 55)
target_position = Vector2(61.0001, 1900)

[node name="Sprite2D" type="Sprite2D" parent="Rocks/FallRock3"]
texture = SubResource("AtlasTexture_pxtxw")

[node name="Label" type="Label" parent="."]
offset_top = 44.0
offset_right = 248.0
offset_bottom = 67.0
text = "Press spacebar to extend finger"

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(363, 0)
scale = Vector2(0.3, 0.3)
tile_map_data = PackedByteArray("AAAAAP//AAACAAAAAAACAP//AAACAAAAAAAEAP//AAACAAAAAAAGAP//AAACAAAAAAD+////AAACAAAAAAAIAP//AAACAAAAAAD8////AAACAAAAAAD8/wcAAAADAAAAACD+/wcAAAADAAAAACAAAAcAAAADAAAAACACAAcAAAADAAAAACAEAAcAAAADAAAAACAGAAcAAAADAAAAACAIAAcAAAADAAAAACAKAAcAAAADAAAAACAKAP//AAACAAAAAAD6////AAACAAAAAAD6/wcAAAACAAAAACA=")
tile_set = SubResource("TileSet_xa385")

[node name="TileMapBG" type="TileMapLayer" parent="TileMapLayer"]
visible = false
z_index = -1
y_sort_enabled = true
position = Vector2(-1400, -3570)
scale = Vector2(2.5, 2.5)
tile_map_data = PackedByteArray("AAD8/woAAAAAAAIAAAD+/woAAAAAAAIAAAD//woAAAAAAAIAAAAAAAoAAAAAAAIAAAABAAoAAAAAAAIAAAACAAoAAAAAAAIAAAADAAoAAAAAAAIAAAAEAAoAAAAAAAIAAAAFAAoAAAAAAAIAAAAGAAoAAAAAAAIAAAAHAAoAAAAAAAIAAAAIAAoAAAAAAAIAAAAJAAoAAAAAAAIAAAD9/wcAAAAEAAIAAAABAAcAAAAEAAIAAAAFAAcAAAAEAAIAAAAJAAcAAAAEAAIAAAD9/wMAAAAAAAIAAAABAAMAAAAAAAIAAAAFAAMAAAAAAAIAAAAJAAMAAAAAAAIAAAAKAAsAAAAAAAIAAAAGAAsAAAAAAAIAAAAFAAsAAAAAAAIAAAAEAAsAAAAAAAIAAAADAAsAAAAAAAIAAAACAAsAAAAAAAIAAAABAAsAAAAAAAIAAAAAAAsAAAAAAAIAAAD//wsAAAAAAAIAAAD+/wsAAAAAAAIAAAD9/wsAAAAAAAIAAAD8/wsAAAAAAAIAAAD7/wsAAAAAAAIAAAA=")
tile_set = SubResource("TileSet_7ivqg")

[node name="GiveItem" parent="." instance=ExtResource("5_h3unf")]

[connection signal="body_entered" from="Button" to="CharacterBody2D" method="_on_button_body_entered"]
[connection signal="body_entered" from="Rocks/FallRock" to="CharacterBody2D" method="_on_fall_rock_body_entered"]
[connection signal="body_entered" from="Rocks/FallRock2" to="CharacterBody2D" method="_on_fall_rock_body_entered"]
[connection signal="body_entered" from="Rocks/FallRock3" to="CharacterBody2D" method="_on_fall_rock_body_entered"]
